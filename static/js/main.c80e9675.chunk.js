(this["webpackJsonpdnd-horde-battler"]=this["webpackJsonpdnd-horde-battler"]||[]).push([[0],{23:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(2),r=a.n(n),s=a(13),o=a.n(s),d=(a(23),a(6)),i=a(9),l=a(14),h=a(15),u=a(17),j=a(16),b=(a(24),a(25),a(35)),m=a(36),O=a(33),f=a(34),p=a(8),g=a(10),x=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeStats=function(e){n.setState({creatureStats:Object(i.a)(Object(i.a)({},n.state.creatureStats),{},Object(d.a)({},e.target.name,e.target.value))})},n.changeParams=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.parseDamDice=function(e,t){var a,c,r,s=0,o=e.toUpperCase();if(o.includes("D")){var d=o.split("D"),i=d[0],l=d[1];if(l.includes("+")){var h=l.split("+");c=parseInt(h[0]),r=parseInt(h[1])}else if(l.includes("-")){var u=l.split("-");c=parseInt(u[0]),r=parseInt(u[1])}else c=parseInt(d[1]),r=0;a=parseInt(i),t&&(a*=2);for(var j=c+r,b=1+r,m=0;m<a;m++)s+=n.rollDie(b,j);return s}n.setState({validity:!1})},n.rollDie=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},n.handleAddToHorde=function(){for(var e=n.state,t=e.creatureStats,a=e.numOfCreatures,c=e.chosenHorde,r=n.state[c],s=0;s<a;s++){var o={num:r.length+1,hp:parseInt(t.hp)||1,maxHp:parseInt(t.hp)||1,ac:parseInt(t.ac)||10,att:parseInt(t.att)||0,damDice:t.damDice||"1d1"};r.push(o)}n.setState(Object(d.a)({},n.state.chosenHorde,r))},n.deleteCreature=function(e,t){var a=n.state[e];a.splice(t,1);n.setState(Object(d.a)({},e,a))},n.attack=function(e,t){for(var a=n.state[e],c=n.state.combatLog,r=n.state[t],s=0;s<a.length;s++){var o=a[s];if(o.hp>0){var l=Math.floor(Math.random()*r.length);r[l].hp<=0&&(l=Math.floor(Math.random()*r.length));var h=r[l],u=n.rollDie(1+o.att,20+o.att);if(u-o.att==20){var j=n.parseDamDice(a[s].damDice,"critical");c.push("#".concat(o.num," from ").concat(e," attacks #").concat(h.num," scoring a critical hit (").concat(u,"), dealing ").concat(j," damage!!"))}else if(u>=h.ac){var b,m=n.parseDamDice(a[s].damDice);r[l].hp-=m,c.push("#".concat(o.num," from ").concat(e," attacks #").concat(h.num," and hits (").concat(u,"), dealing ").concat(m," damage!")),n.setState((b={},Object(d.a)(b,h,Object(i.a)(Object(i.a)({},n.state[h]),{},{arr:r})),Object(d.a)(b,"combatLog",c),b))}else c.push("#".concat(o.num," from ").concat(e," attacks #").concat(h.num," and misses (").concat(u,").")),n.setState({combatLog:c})}}},n.resetHorde=function(e){n.setState(Object(d.a)({},e,[]))},n.renderCreature=function(e,t,a){var r,s=e.maxHp,o=e.hp,d=e.num,i=o>0?o:0;return r=0==i?"dead":i<s&&i>s/2?"damaged":i<=s/2?"bloodied":"normal",Object(c.jsxs)("div",{className:"creature-container",id:r,children:[Object(c.jsx)(g.a,{className:"delete-icon",onClick:function(){return n.deleteCreature(t,a)}}),Object(c.jsxs)("div",{className:"creature-designation",children:["#",d]}),Object(c.jsx)(p.b,{className:"skull"}),Object(c.jsxs)("div",{className:"data",children:[i," / ",s]})]},"creatureContainer; ".concat(t,": ").concat(a))},n.renderCombatLogEntry=function(e,t){return Object(c.jsxs)("div",{className:"entry",children:["Entry #".concat(t+1,"."),Object(c.jsx)("div",{className:"text",children:e})]},"combatLogEntry: ".concat(t))},n.disabledAttackBtn=function(){for(var e=!1,t=0,a=0,c=0;c<n.state.hordeA.length;c++)0==n.state.hordeA[c].hp&&t++;for(var r=0;r<n.state.hordeB.length;r++)0==n.state.hordeB[r].hp&&a++;return t!=n.state.hordeA.length&&a!=n.state.hordeB.length&&0!=n.state.hordeA.length&&0!=n.state.hordeB.length||(e=!0),e},n.header=function(){return Object(c.jsxs)("div",{className:"title-content",children:[Object(c.jsx)("div",{className:"title",children:"D&D Horde Battler"}),Object(c.jsx)("div",{className:"subtext",children:"This program utilizes basic d20 rules to determine the outcome of a pitched battle between two groups of combatants."})]})},n.creatureStats=function(){var e=n.state.creatureStats,t=e.hp,a=e.ac,r=e.att,s=e.damDice;return Object(c.jsxs)("div",{className:"horde-data-div",children:[Object(c.jsxs)("div",{className:"creature-input-container",children:[Object(c.jsx)(b.a,{onChange:n.changeParams,name:"numOfCreatures",value:n.state.numOfCreatures,placeholder:"# of creatures...",type:"number",className:"number-of-creatures-form-control"}),Object(c.jsxs)(b.a,{onChange:n.changeParams,name:"chosenHorde",value:n.state.chosenHorde,as:"select",className:"select-horde-form-control",children:[Object(c.jsx)("option",{value:"",children:"Select a horde..."}),Object(c.jsx)("option",{value:"hordeA",children:"Horde A"}),Object(c.jsx)("option",{value:"hordeB",children:"Horde B"})]}),Object(c.jsxs)(m.a,{onClick:function(){return n.handleAddToHorde("hordeA")},className:"common-button add-button",children:[Object(c.jsx)(g.b,{}),"Add to Horde"]})]}),Object(c.jsx)("div",{className:"header",children:"Creature Stats"}),Object(c.jsxs)(O.a,{noGutters:!0,children:[Object(c.jsxs)(f.a,{lg:4,className:"form-control-container",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)(p.d,{className:"label-icon"}),"HP"]}),Object(c.jsx)(b.a,{onChange:n.changeStats,name:"hp",value:t,type:"number"})]}),Object(c.jsxs)(f.a,{lg:4,className:"form-control-container",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)(p.a,{className:"label-icon"}),"AC"]}),Object(c.jsx)(b.a,{onChange:n.changeStats,name:"ac",value:a,type:"number"})]}),Object(c.jsxs)(f.a,{lg:4,className:"form-control-container",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)(p.e,{className:"label-icon"}),"Attack Bonus"]}),Object(c.jsx)(b.a,{onChange:n.changeStats,name:"att",value:r,type:"number"})]}),Object(c.jsxs)(f.a,{lg:4,className:"form-control-container",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)(p.c,{className:"label-icon"}),"Damage"]}),Object(c.jsx)(b.a,{onChange:n.changeStats,name:"damDice",placeholder:"Ex. 1d8+2; 3d6+4",value:s})]})]})]})},n.hordeA=function(){var e=n.disabledAttackBtn(),t=n.state.hordeA,a=t.reduce((function(e,t){return t.hp>0?++e:e}),0);return Object(c.jsxs)("div",{className:"horde-data-div horde-container",children:[Object(c.jsxs)(m.a,{disabled:e,onClick:function(){return n.attack("hordeA","hordeB")},className:"common-button attack-button",children:[Object(c.jsx)(p.e,{}),"Attack!"]}),Object(c.jsx)(g.c,{onClick:function(){return n.resetHorde("hordeA")},className:"reset-icon"}),Object(c.jsx)("div",{className:"header",children:"Horde A (".concat(a,"/").concat(t.length,")")}),Object(c.jsx)(O.a,{noGutters:!0,children:t.map((function(e,t){return n.renderCreature(e,"hordeA",t)}))})]})},n.hordeB=function(){var e=n.disabledAttackBtn(),t=n.state.hordeB,a=t.reduce((function(e,t){return t.hp>0?++e:e}),0);return Object(c.jsxs)("div",{className:"horde-data-div horde-container",children:[Object(c.jsxs)(m.a,{disabled:e,onClick:function(){return n.attack("hordeB","hordeA")},className:"common-button attack-button",children:[Object(c.jsx)(p.e,{}),"Attack!"]}),Object(c.jsx)(g.c,{onClick:function(){return n.resetHorde("hordeB")},className:"reset-icon"}),Object(c.jsx)("div",{className:"header",children:"Horde B (".concat(a,"/").concat(t.length,")")}),Object(c.jsx)(O.a,{noGutters:!0,children:t.map((function(e,t){return n.renderCreature(e,"hordeB",t)}))})]})},n.footer=function(){return Object(c.jsxs)("div",{className:"footer",children:["Created by"," ",Object(c.jsx)("a",{target:"_blank",href:"https://john-martinez-729.github.io/personal-site/",children:"John Martinez"})]})},n.combatLog=function(){return Object(c.jsxs)("div",{className:"horde-data-div combat-log-container",children:[Object(c.jsx)("div",{className:"header",children:"Combat Log"}),Object(c.jsx)("div",{className:"combat-log",children:n.state.combatLog.map((function(e,t){return n.renderCombatLogEntry(e,t)}))})]})},n.state={creatureStats:{hp:1,ac:10,att:0,damDice:"",validity:!0},hordeA:[],hordeB:[],combatLog:[],numOfCreatures:1,chosenHorde:""},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)(O.a,{noGutters:!0,className:"top-row",children:[Object(c.jsxs)(f.a,{lg:6,className:"top-col divider",children:[this.header(),this.creatureStats()]}),Object(c.jsxs)(f.a,{lg:6,className:"top-col",children:[this.hordeA(),this.hordeB(),this.combatLog()]})]}),this.footer()]})}}]),a}(n.Component),v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),v()}},[[31,1,2]]]);
//# sourceMappingURL=main.c80e9675.chunk.js.map